
PostProcStep = require './step'


module.exports =

class Plugin

  metadata:
    apiVersion: 1
    name: 'livereload-postproc'


  jobPriorities: [
    'postproc'
  ]


  loadProject: (project, memento) ->
    project.postprocCommand = (memento?.postproc ? '').trim()
    project.postprocEnabled = !!(memento?.postprocEnabled ? (project.postprocCommand.length > 0))
    project.postprocLastRunTime = 0
    project.postprocGracePeriod = 500


  createSteps: (project) ->
    [new PostProcStep(project)]
